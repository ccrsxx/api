services:
  api:
    image: ghcr.io/ccrsxx/api:latest
    container_name: api
    restart: unless-stopped
    ports:
      - '4001:4000'
    env_file:
      - .env
    environment:
      - TZ=Asia/Jakarta
      - PORT=4000
      - APP_ENV=production
    read_only: true
    cap_drop:
      - ALL
    security_opt:
      - 'no-new-privileges:true'
    user: '10001:10001'

  og:
    image: ghcr.io/ccrsxx/og:latest
    container_name: og
    restart: unless-stopped
    env_file:
      - .env.og
    environment:
      - TZ=Asia/Jakarta
      - NODE_ENV=production
    read_only: true
    cap_drop:
      - ALL
    security_opt:
      - 'no-new-privileges:true'
